{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '42469793-94d748bc29f10cf193212e81f';\nconst url = 'https://pixabay.com/api/?';\n\nexport function fetchCards(searchQuery) {\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${url}${searchParams}`)\n  .then(response => {\n    if (!response.ok) throw new Error('Failed to fetch images. Please try again later.');\n    return response.json();\n  });\n}\n\nconsole.log();","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryList = document.querySelector('.card-list');\nconst loader = document.querySelector('.loader');\n\nconst instance = new SimpleLightbox('.card-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderCards({ hits }) {\n  if (!hits.length) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n  const markup = getMarkup(hits);\n  galleryList.insertAdjacentHTML('beforeend', markup);\n  instance.refresh();\n}\n\nfunction getMarkup(data) {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"card-item\">\n  <a href=${largeImageURL}\n    ><img src=${webformatURL} alt=\"${tags}\" height=\"200\"/>\n    <ul class=\"card-info\">\n      <li>\n        Likes\n        <p>${likes}</p>\n      </li>\n      <li>\n        Views\n        <p>${views}</p>\n      </li>\n      <li>\n        Comments\n        <p>${comments}</p>\n      </li>\n      <li>\n        Downloads\n        <p>${downloads}</p>\n      </li>\n    </ul></a\n  >\n</li>`\n    )\n    .join('');\n}\n\nexport function toggleLoader() {\n  loader.classList.toggle('is-hidden');\n}\n\n\nconsole.log();","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchCards } from './js/pixabay-api';\nimport { galleryList, renderCards, toggleLoader } from './js/render-functions';\n\nconst searchForm = document.querySelector('.search-form');\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n  \n    const searchInput = document.querySelector('.search-input');\n    const userSearchQuery = searchInput.value.trim();\n  \n    if (userSearchQuery === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a keyword before submitting the form.',\n      });\n      return false;\n    };\n  \n    galleryList.innerHTML = '';\n    toggleLoader();\n  \n    fetchCards(userSearchQuery)\n      .then(data => {\n        renderCards(data);\n      })\n      .then(() => toggleLoader())\n      .catch(error => {\n        console.error('Error fetching images:', error);\n        iziToast.error({\n          title: 'Error',\n          message: 'An unexpected error occurred while fetching images. Please try again.',\n        });\n      });\n  }\n  console.log();\n\n\n\n\n"],"names":["apiKey","url","fetchCards","searchQuery","searchParams","response","galleryList","loader","instance","SimpleLightbox","renderCards","hits","iziToast","markup","getMarkup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","toggleLoader","searchForm","onSearchFormSubmit","event","userSearchQuery","error"],"mappings":"6vBAAA,MAAMA,EAAS,qCACTC,EAAM,4BAEL,SAASC,EAAWC,EAAa,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAG,GAAGG,CAAY,EAAE,EACnC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAM,iDAAiD,EACnF,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,QAAQ,IAAK,ECfN,MAAMC,EAAc,SAAS,cAAc,YAAY,EACxDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,eAAgB,CAClD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAY,CAAE,KAAAC,GAAQ,CACpC,GAAI,CAACA,EAAK,OAAQ,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UAChB,CAAK,EACD,MACD,CACD,MAAMC,EAASC,EAAUH,CAAI,EAC7BL,EAAY,mBAAmB,YAAaO,CAAM,EAClDL,EAAS,QAAO,CAClB,CAEA,SAASM,EAAUC,EAAM,CACvB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,YACAL,CAAa;AAAA,gBACTD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA,aAI5BC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,aAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKjB,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAe,CAC7BhB,EAAO,UAAU,OAAO,WAAW,CACrC,CAGA,QAAQ,IAAK,EChEb,MAAMiB,EAAa,SAAS,cAAc,cAAc,EAExDA,EAAW,iBAAiB,SAAUC,CAAkB,EAExD,SAASA,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EAGpB,MAAMC,EADc,SAAS,cAAc,eAAe,EACtB,MAAM,KAAI,EAE9C,GAAIA,IAAoB,GACtB,OAAAf,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oDACjB,CAAO,EACM,GAGTN,EAAY,UAAY,GACxBiB,IAEArB,EAAWyB,CAAe,EACvB,KAAKZ,GAAQ,CACZL,EAAYK,CAAI,CACxB,CAAO,EACA,KAAK,IAAMQ,GAAc,EACzB,MAAMK,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7ChB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,uEACnB,CAAS,CACT,CAAO,CACJ,CACD,QAAQ,IAAK"}